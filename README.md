# Esbuild Side-effect Module Reproduction

This project was created with the following command:

```sh
npx create-remix@latest
```

- Basic Setup
- Remix app server
- TypeScript

## Side Effects

See [sideEffects.ts](./app/lib/sideEffects.ts), it performs some browser
sideEffects, ang logging. Imagine the use case is setting up analytics, logging,
or manipulating globalThis. In some cases, working with third-party transpilers
may result in code that needs to perform side-effects.

## Start bundling

```sh
npm run dev
```

## Module Missing

Upon visiting the site locally, you'll see a runtime error about `SIDE_EFFECT`
not being defined and therefore `SIDE_EFFECT.message` cannot be read.

## Package.json

See [package.json](./package.json), it was generated by remix with:

```json
"sideEffects": false
```

## Proposal

It would be helpful if esbuild produced a warning if a project's root module was
ignored due to a root package.json `sideEffects` setting so that users get a
hint of where to look if the behavior was not intended.

## Fix

If you want to see this example work, update package.json by removing the
`sideEffects` setting, setting it to `true`, or an array including
`"./app/lib/sideEffect.ts"`.
